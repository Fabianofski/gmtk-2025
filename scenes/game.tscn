[gd_scene load_steps=38 format=3 uid="uid://7irymsguxr1n"]

[ext_resource type="Script" uid="uid://bfys28ih4t0op" path="res://scenes/camera_mvmt.gd" id="1_dinhu"]
[ext_resource type="Script" uid="uid://ccrn643plqokb" path="res://cards/player_hand.gd" id="1_lbhrr"]
[ext_resource type="Script" uid="uid://lks37hmucqb8" path="res://cards/deck.gd" id="2_yqjtg"]
[ext_resource type="PackedScene" uid="uid://cjhruytcug36n" path="res://sprites/table/table.blend" id="3_lnu2h"]
[ext_resource type="Texture2D" uid="uid://c4nixbheu0pj3" path="res://sprites/enviro/floor_tex.png" id="4_iywne"]
[ext_resource type="Script" uid="uid://q24iakckc8l2" path="res://common/game_manager.gd" id="4_lbhrr"]
[ext_resource type="Texture2D" uid="uid://mbc5rc7pje0a" path="res://sprites/enviro/wall_tex.png" id="5_p57ef"]
[ext_resource type="Texture2D" uid="uid://b4cjt1ahhwvwy" path="res://sprites/enviro/decorations/decoration_2.png" id="6_u5sy4"]
[ext_resource type="Texture2D" uid="uid://cctwqpvlfu6yl" path="res://sprites/enviro/decorations/decoration_4.png" id="7_gee14"]
[ext_resource type="Texture2D" uid="uid://bv33trgmwkwvx" path="res://sprites/enviro/decorations/decoration_3.png" id="8_kvpfn"]
[ext_resource type="Texture2D" uid="uid://bnveft57om3d8" path="res://sprites/enviro/decorations/decoration_6.png" id="9_dinhu"]
[ext_resource type="Texture2D" uid="uid://wu4ppt58u1cu" path="res://sprites/enviro/decorations/decoration_5.png" id="10_kvuet"]
[ext_resource type="PackedScene" uid="uid://b882fewg5y6x5" path="res://scenes/player.tscn" id="10_trtic"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_p57ef"]
sky_top_color = Color(0.394084, 0.179147, 0.423439, 1)
sky_horizon_color = Color(0.300568, 0.246833, 0.307906, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.300568, 0.246833, 0.307906, 1)

[sub_resource type="Sky" id="Sky_u5sy4"]
sky_material = SubResource("ProceduralSkyMaterial_p57ef")

[sub_resource type="Environment" id="Environment_gee14"]
background_mode = 2
background_color = Color(0.629675, 0.629675, 0.629675, 1)
background_energy_multiplier = 0.37
sky = SubResource("Sky_u5sy4")
tonemap_mode = 2
glow_enabled = true
glow_bloom = 0.11
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0, 0, 0, 1)
fog_density = 1.0
fog_depth_begin = 0.0
fog_depth_end = 35.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iywne"]
albedo_texture = ExtResource("4_iywne")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_p57ef"]
albedo_texture = ExtResource("4_iywne")
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_p57ef"]
material = SubResource("StandardMaterial3D_p57ef")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u5sy4"]
albedo_texture = ExtResource("5_p57ef")
metallic = 1.0
uv1_scale = Vector3(1.36, 1.36, 1.36)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_iywne"]
material = SubResource("StandardMaterial3D_u5sy4")
flip_faces = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0tnpc"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = ExtResource("6_u5sy4")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_0tnpc"]
material = SubResource("StandardMaterial3D_0tnpc")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vtaks"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = ExtResource("7_gee14")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_kvpfn"]
material = SubResource("StandardMaterial3D_vtaks")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_trtic"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = ExtResource("8_kvpfn")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_ir15t"]
material = SubResource("StandardMaterial3D_trtic")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ca42v"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = ExtResource("9_dinhu")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_rysoc"]
material = SubResource("StandardMaterial3D_ca42v")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ssvqc"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = ExtResource("10_kvuet")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_264po"]
material = SubResource("StandardMaterial3D_ssvqc")

[sub_resource type="QuadMesh" id="QuadMesh_1kice"]
material = SubResource("StandardMaterial3D_ssvqc")

[sub_resource type="QuadMesh" id="QuadMesh_5newe"]
material = SubResource("StandardMaterial3D_ssvqc")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_37s47"]
load_path = "res://.godot/imported/decoration_1.png-95c69b546d0ef4a9cfd51c7a8105b5ad.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kvpfn"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 2
albedo_texture = SubResource("CompressedTexture2D_37s47")
billboard_mode = 2
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_dinhu"]
material = SubResource("StandardMaterial3D_kvpfn")

[sub_resource type="LabelSettings" id="LabelSettings_kvpfn"]
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gee14")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.967832, 0.251596, 0, -0.251596, 0.967832, 0, 4.61701, 8.49182)
fov = 26.2
size = 3.702
script = ExtResource("1_dinhu")

[node name="Room" type="Node3D" parent="."]

[node name="table" parent="Room" instance=ExtResource("3_lnu2h")]
transform = Transform3D(0.923879, 0, 0.382683, 0, 1, 0, -0.382683, 0, 0.923879, 0, 0, 0)

[node name="Carpet" type="MeshInstance3D" parent="Room"]
transform = Transform3D(12.6678, 0, 0, 0, 1.0005, 0, 0, 0, 33.3852, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_iywne")
mesh = SubResource("PlaneMesh_p57ef")

[node name="Walls" type="MeshInstance3D" parent="Room"]
transform = Transform3D(42.843, 0, 0, 0, 18.8179, 0, 0, 0, 84.1655, 0, 9.15454, 0)
mesh = SubResource("BoxMesh_iywne")

[node name="Spotlight 1" type="SpotLight3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 9.50974, 0)
spot_range = 14.4736
spot_angle = 24.8039

[node name="Spotlight 2" type="SpotLight3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 9.50974, -7)
spot_range = 14.4736
spot_attenuation = 0.05
spot_angle = 24.8039

[node name="Spotlight 3" type="SpotLight3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 9.50974, 7)
spot_range = 14.4736
spot_attenuation = 0.05
spot_angle = 24.8039

[node name="Directional Light" type="DirectionalLight3D" parent="Room"]
transform = Transform3D(0.854169, -0.343839, 0.390091, 2.27178e-08, 0.75018, 0.661233, -0.519996, -0.564805, 0.64078, 0, 13.89, 0)
light_color = Color(1, 0.756863, 1, 1)
light_energy = 0.275
light_indirect_energy = 2.616
shadow_enabled = true
directional_shadow_mode = 0
directional_shadow_fade_start = 0.629

[node name="Decoration" type="Node3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.09, 0)

[node name="Attacker\'s side" type="Node3D" parent="Room/Decoration"]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 1.46231, 0, 0)

[node name="Slots" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -7.63861, 3.27922, -13.9217)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Slots3" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -5.7777, 3.18393, -18.2222)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Stool3" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -7.93205, 3.18393, -13.3209)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="Stool4" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -5.78627, 3.22405, -16.8378)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="Slots5" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -3.58574, 3.18393, -23.0181)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Stool6" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -3.59431, 3.22405, -21.6338)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="LongTable" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 5.55236, 3.22405, -16.5676)
mesh = SubResource("QuadMesh_ir15t")
skeleton = NodePath("../..")

[node name="Chair" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 5.55236, 3.22405, -14.467)
mesh = SubResource("QuadMesh_rysoc")
skeleton = NodePath("../..")

[node name="TallStool" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 5.55235, 3.22405, -20.467)
mesh = SubResource("QuadMesh_264po")
skeleton = NodePath("../..")

[node name="TallStool2" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 2.53914, 3.22405, -20.467)
mesh = SubResource("QuadMesh_1kice")
skeleton = NodePath("../..")

[node name="TallStool3" type="MeshInstance3D" parent="Room/Decoration/Attacker\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 8.29837, 3.22405, -20.467)
mesh = SubResource("QuadMesh_5newe")
skeleton = NodePath("../..")

[node name="Defender\'s side" type="Node3D" parent="Room/Decoration"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.462, 0, 8.74228e-08)

[node name="Slots" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -7.63861, 3.27922, -13.9217)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Slots3" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -5.7777, 3.18393, -18.2222)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Stool3" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -7.93205, 3.18393, -13.3209)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="Stool4" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -5.78627, 3.22405, -16.8378)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="Slots5" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -3.58574, 3.18393, -23.0181)
mesh = SubResource("QuadMesh_0tnpc")
skeleton = NodePath("../..")

[node name="Stool6" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, -3.59431, 3.22405, -21.6338)
mesh = SubResource("QuadMesh_kvpfn")
skeleton = NodePath("../..")

[node name="RoundTable" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 5.55236, 3.22405, -16.5676)
mesh = SubResource("QuadMesh_dinhu")
skeleton = NodePath("../..")

[node name="Chair" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 5.55236, 3.22405, -14.467)
mesh = SubResource("QuadMesh_rysoc")
skeleton = NodePath("../..")

[node name="Chair2" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 2.53914, 3.22405, -14.467)
mesh = SubResource("QuadMesh_rysoc")
skeleton = NodePath("../..")

[node name="Chair3" type="MeshInstance3D" parent="Room/Decoration/Defender\'s side"]
transform = Transform3D(7.2349, 0, 0, 0, 7.2349, 0, 0, 0, 1, 8.29837, 3.22405, -14.467)
mesh = SubResource("QuadMesh_rysoc")
skeleton = NodePath("../..")

[node name="Time Travel Andy" parent="Room" instance=ExtResource("10_trtic")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.800049, -3)

[node name="Player Hand" type="Node3D" parent="."]
script = ExtResource("1_lbhrr")

[node name="Deck" type="Node3D" parent="Player Hand"]
script = ExtResource("2_yqjtg")

[node name="Cards" type="Node3D" parent="Player Hand"]
transform = Transform3D(0.7, 0, 0, 0, 0.646303, 0.268871, 0, -0.268871, 0.646303, -1.41181, 2.44641, 3.56764)

[node name="Game Manager" type="Node3D" parent="."]
script = ExtResource("4_lbhrr")

[node name="Score" type="Label" parent="Game Manager"]
offset_right = 40.0
offset_bottom = 23.0
text = "Score: 0"

[node name="Health" type="Label" parent="Game Manager"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -96.0
offset_bottom = 23.0
grow_horizontal = 0
text = "Health: 10"
horizontal_alignment = 2

[node name="StateInfo" type="Label" parent="Game Manager"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -23.0
offset_right = 48.0
grow_vertical = 0
text = "ATK"

[node name="GoalInfo" type="Label" parent="Game Manager"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -48.0
offset_right = 48.0
offset_bottom = 23.0
grow_horizontal = 2
text = "Score Points"
horizontal_alignment = 1

[node name="RoundInfo" type="Label" parent="Game Manager"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -24.0
offset_top = -87.0
offset_right = 24.0
offset_bottom = -64.0
grow_horizontal = 2
grow_vertical = 0
label_settings = SubResource("LabelSettings_kvpfn")
horizontal_alignment = 1

[node name="Button" type="Button" parent="Game Manager"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -45.0
offset_top = -31.0
grow_horizontal = 0
grow_vertical = 0
text = "Next"

[connection signal="pressed" from="Game Manager/Button" to="Game Manager" method="next_round"]
